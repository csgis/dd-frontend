(function(e){function t(t){for(var n,s,r=t[0],l=t[1],c=t[2],d=0,u=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&u.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var r=o[s];0!==i[r]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},s={app:0},i={app:0},a=[];function r(e){return l.p+"assets/js/"+({"DevView~EditView~LoginView~ThankYouView":"DevView~EditView~LoginView~ThankYouView","DevView~EditView":"DevView~EditView",DevView:"DevView",EditView:"EditView",LoginView:"LoginView",ThankYouView:"ThankYouView"}[e]||e)+"."+{"DevView~EditView~LoginView~ThankYouView":"711bb4ee","DevView~EditView":"0ddb2fa2",DevView:"dbb8da47",EditView:"7af01860",LoginView:"a413c062",ThankYouView:"a0c80b13"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(e){var t=[],o={"DevView~EditView~LoginView~ThankYouView":1,"DevView~EditView":1,DevView:1,EditView:1,LoginView:1,ThankYouView:1};s[e]?t.push(s[e]):0!==s[e]&&o[e]&&t.push(s[e]=new Promise((function(t,o){for(var n="assets/css/"+({"DevView~EditView~LoginView~ThankYouView":"DevView~EditView~LoginView~ThankYouView","DevView~EditView":"DevView~EditView",DevView:"DevView",EditView:"EditView",LoginView:"LoginView",ThankYouView:"ThankYouView"}[e]||e)+"."+{"DevView~EditView~LoginView~ThankYouView":"337be814","DevView~EditView":"1117f784",DevView:"91c684b7",EditView:"43b38681",LoginView:"9504b24b",ThankYouView:"67933e31"}[e]+".css",i=l.p+n,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var c=a[r],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===n||d===i))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){c=u[r],d=c.getAttribute("data-href");if(d===n||d===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete s[e],p.parentNode.removeChild(p),o(a)},p.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){s[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=i[e]=[t,o]}));t.push(n[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=r(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(p);var o=i[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",u.name="ChunkLoadError",u.type=n,u.request=s,o[1](u)}i[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0d45":function(e,t,o){"use strict";var n=o("c98a"),s=o.n(n);s.a},2395:function(e,t,o){},3036:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"MhRouterView",class:e.elmClasses},[e._t("default")],2)},s=[],i=o("5e50"),a={name:"MhRouterView",components:{},mixins:[],props:{isContentReady:{type:[Boolean],default:!0}},data:function(){return{scrollPosition:{listen:!0,doRestore:!1,wasPopstateNav:!1}}},watch:{isContentReady:{immediate:!0,handler:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&(console.groupCollapsed(this.$options.name,"• watch isContentReady",t,e),console.groupEnd()),this.$nextTick((function(){e&&o.scrollRestorationHandler("viewContentIsReady"),i["a"].$emit("MhRouterView--viewContentIsReady",e)}))}}},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[],t=!1;return t&&(console.groupCollapsed(this.$options.name,"• elmClasses",this.isContentReady),console.groupEnd()),this.isContentReady&&e.push("MhRouterView--showContent"),e}},methods:{scrollRestorationHandler:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.$options.name,s=this.$route.path,i=sessionStorage.getItem("scrollY--"+s)?parseInt(sessionStorage.getItem("scrollY--"+s)):0;if("viewComponentIsCreated"==e&&(o&&(console.group(this.$options.name+' • scrollRestorationHandler("created")'),console.groupEnd()),window.addEventListener("scroll",this.onScrollEvent),this.scrollPosition.listen=!1),"viewComponentIsMounted"==e){var a=sessionStorage.getItem("wasPopstateNav"),r=sessionStorage.getItem("wasReloadNavigation");a||r?(this.scrollPosition.doRestore=!0,this.scrollPosition.wasPopstateNav=!0):(this.scrollPosition.doRestore=!1,this.scrollPosition.wasPopstateNav=!1),sessionStorage.removeItem("wasPopstateNav"),sessionStorage.removeItem("wasReloadNavigation"),o&&(console.group(this.$options.name+' • scrollRestorationHandler("mounted")'),console.groupEnd())}"viewContentIsReady"==e&&(o&&(console.group(this.$options.name+' • scrollRestorationHandler("viewContentIsReady") • scrollY:',i),console.groupEnd()),this.scrollPosition.doRestore?(window.scrollTo(0,i),this.$nextTick((function(){})),setTimeout((function(){t.scrollPosition.listen=!0}),50)):(window.scrollTo(0,0),this.$nextTick((function(){})),setTimeout((function(){t.scrollPosition.listen=!0}),50)),setTimeout((function(){var e=window.pageYOffset;o&&console.log(n+": delayed ready() • window.pageYOffset:",e)}),1e3)),"viewComponentIsDestroyed"==e&&window.removeEventListener("scroll",this.onScrollEvent)},onScrollEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!0,n=window.pageYOffset,s=this.$route.path;this.scrollPosition.listen&&o&&(t&&(console.groupCollapsed(this.$options.name+" • onScrollEvent()",n),console.log("urlPath:",s),console.groupEnd()),sessionStorage.setItem("scrollY--"+s,n))}},beforeCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(console.groupCollapsed("MhRouterView • beforeCreate"),console.groupEnd())},created:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.scrollRestorationHandler("viewComponentIsCreated"),e&&(console.groupCollapsed("MhRouterView • created"),console.groupEnd())},beforeMount:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(console.groupCollapsed("MhRouterView • beforeMount"),console.groupEnd())},mounted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.scrollRestorationHandler("viewComponentIsMounted"),e&&(console.groupCollapsed("MhRouterView • mounted"),console.groupEnd(),console.log(""))},beforeDestroy:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(console.groupCollapsed("MhRouterView • beforeDestroy"),console.groupEnd())},destroyed:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.scrollRestorationHandler("viewComponentIsDestroyed"),e&&(console.groupCollapsed("MhRouterView • destroyed"),console.groupEnd())}},r=a,l=(o("dbdf"),o("2877")),c=Object(l["a"])(r,n,s,!1,null,null,null);t["a"]=c.exports},"33a5":function(e,t,o){"use strict";var n={state:{responses:[],posts:[]},mutations:{addResponse:function(e,t){var o=t.response.data.result;Array.isArray(o)&&o.forEach((function(t){t&&t.id&&t.slug&&t.type&&e.posts.push(t)})),e.responses.push(t)}}};o("5e50"),t["a"]={name:"RestHandler",watch:{},data:function(){return{debugLog:!1,restHandler__useCaching:!0}},computed:{restBase:function(){return""}},methods:{restHandler__serializeParams:function(e,t){var o="";for(var n in e)""!=o&&(o+="&"),o+=n+"="+encodeURIComponent(e[n]);return o},restHandler__fetch:function(e){var t=this,o=this._.trimEnd(this.restBase+e.route),n=this._.trimEnd(o+"?"+this.restHandler__serializeParams(e.params),"?"),s=this._.find(this.$store.state.restHandler.responses,{requestUrlWithParams:n});this.debugLog&&(console.log(""),console.group("RestHandler restHandler__fetch()"),console.log("args.action          : ",e.action),console.log("args.route           : ",e.route),console.log("args.params          : ",e.params),console.log("args.data            : ",e.data),console.log("restBase             : ",this.restBase),console.log("requestUrl           : ",o),console.log("requestUrlWithParams : ",n),console.log("requestInCache       : ",this._.isObject(s)),console.groupEnd()),s&&this.restHandler__useCaching?e.callback(s.response):this.axios({method:e.action.toLowerCase(),url:o,params:e.params?e.params:null,data:e.data?e.data:null,headers:e.headers?e.headers:null}).then((function(o){"get"==e.action.toLowerCase()&&t.restHandler__useCaching&&t.$store.commit("addResponse",{requestUrlWithParams:n,response:o}),e.callback(o)}))},restHandler__fetchAllPaginatedPosts:function(e){var t,o,n=this,s=this.debugLog,i=e.params.perPage||50,a=e.params;a["paged"]=1,a["perPage"]=i;var r={},l=[];function c(){n._.forEach(t,(function(t,a){n.restHandler__fetch({action:e.action,route:e.route,params:{postType:e.params.postType,perPage:i,paged:a+1},callback:function(e){o-=1,r[e.data.info.currentPage]=e.data.result,s&&console.log("\tfetched from   : "+e.data.request.url+" > posts: "+e.data.result.length+", open: "+o),o||d()}})}))}function d(){n._.forEach(t,(function(e,t){var o=r[t+1];n._.forEach(o,(function(e,t){l.push(e)}))})),s&&console.log("\tfinished, all posts fetched, return posts ("+l.length+")"),e.callback(l)}s&&console.log("%cRestHandler restHandler__fetchAll()","font-weight: bold; margin-top: 1em;"),this.restHandler__fetch({action:e.action,route:e.route,params:a,callback:function(e){t=e.data.info.paginationLinks,o=t.length,c()}})}},beforeCreate:function(){},created:function(){var e=!!this.$store.state.restHandler;e||this.$store.registerModule("restHandler",n)},mounted:function(){}}},"3e57":function(e,t,o){"use strict";var n=o("7b15"),s=o.n(n);s.a},"3f9e":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"App font font--sans font--sizeDefault",attrs:{lang:"de"}},[o("KnAppSidebar",{staticClass:"App__sidebar"}),o("div",{staticClass:"knDebug"},[o("strong",[e._v("Steps isValid state")]),e._l(e.$store.getters.steps,(function(t,n){return o("div",{key:"s"+n,staticClass:"flex flex--spaceBetween"},[o("span",{domProps:{innerHTML:e._s(t.title+" • "+t.slug)}}),e.isStepValid(t.slug)?[e._v(" • true")]:[e._v(" • false")]],2)})),o("div",{staticClass:"flex flex--spaceBetween"},[o("span",[e._v("all")]),e.isStepValid("all")?[e._v(" • true")]:[e._v(" • false")]],2),o("pre",{attrs:{name:"availableBoneIds"}},[e._v(e._s(e.availableBoneIds))])],2),e.isReady?o("MhRouterViewWrapper",{staticClass:"App__body hSpace hSpace--appBody"}):e._e(),o("MhDelegateLinks",{attrs:{doLog:!1}}),o("MhDevInfos",{attrs:{showOnHosts:["localhost","knochen.in-kombination.de","daard-atlas-staging.csgis.de"]}})],1)},i=[],a=o("5e50"),r=o("2f62"),l=[{name:"local",hostname:"localhost",showDevOutput:!0,restBase:"https://dai-gn-test.csgis.de/daard",loginUrl:"https://dai-gn-test.csgis.de/o/authorize/?response_type=code&client_id=jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U&redirect_uri=%redirect_uri%&state=abc=scope=daard-api",tokenUrl:"https://dai-gn-test.csgis.de/o/token/",tokenClientId:"jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U",registerUrl:"https://dai-gn-test.csgis.de/account/signup/"},{name:"stage",hostname:"daard-atlas-staging.csgis.de",showDevOutput:!1,restBase:"https://dai-gn-test.csgis.de/daard",loginUrl:"https://dai-gn-test.csgis.de/o/authorize/?response_type=code&client_id=jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U&redirect_uri=%redirect_uri%&state=abc=scope=daard-api",tokenUrl:"https://dai-gn-test.csgis.de/o/token/",tokenClientId:"jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U",registerUrl:"https://dai-gn-test.csgis.de/account/signup/"},{name:"live",hostname:"daard-atlas.cuprit.net",showDevOutput:!1,restBase:"https://dai-gn-test.csgis.de/daard",loginUrl:"https://dai-gn-test.csgis.de/o/authorize/?response_type=code&client_id=jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U&redirect_uri=%redirect_uri%&state=abc=scope=daard-api",tokenUrl:"https://dai-gn-test.csgis.de/o/token/",tokenClientId:"jqAODkFHbb54YDouEx7JAT16kJxelPSIeDkU2n5U",registerUrl:"https://dai-gn-test.csgis.de/account/signup/"}],c={};l.forEach((function(e){e.hostname===window.location.hostname&&(c=e)}));var d=c,u=o("428d"),p=o.n(u),h=o("33a5"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.doShow?o("div",{staticClass:"MhDevInfos"},[o("div",{staticClass:"MhDevInfos__row",class:{"MhDevInfos__row--isHidden":!e.store.barIsVisible}},[o("div",{staticClass:"MhDevInfos__col MhDevInfos__col--left"},[e.routeName?o("span",{domProps:{innerHTML:e._s(e.routeName+" • ")}}):e._e(),e._v(" "+e._s(e.windowInnerWidth)+"px "),e.mq?o("span",{staticClass:"MhDevInfos__mq",domProps:{innerHTML:e._s(" • "+e.mq)}}):e._e()]),o("div",{staticClass:"MhDevInfos__col MhDevInfos__col--right"},e._l(e.store.showBorders,(function(t,n){return o("input",{directives:[{name:"model",rawName:"v-model",value:e.store.showBorders[n],expression:"store.showBorders[index]"}],key:n,staticClass:"MhDevInfos__checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.store.showBorders[n])?e._i(e.store.showBorders[n],null)>-1:e.store.showBorders[n]},on:{change:function(t){var o=e.store.showBorders[n],s=t.target,i=!!s.checked;if(Array.isArray(o)){var a=null,r=e._i(o,a);s.checked?r<0&&e.$set(e.store.showBorders,n,o.concat([a])):r>-1&&e.$set(e.store.showBorders,n,o.slice(0,r).concat(o.slice(r+1)))}else e.$set(e.store.showBorders,n,i)}}})})),0)]),o("div",{staticClass:"MhDevInfos__toggleRowBtn",class:{"MhDevInfos__toggleRowBtn--isActive":!e.store.barIsVisible},on:{click:function(t){e.store.barIsVisible=!e.store.barIsVisible}}},[e._m(0)])]):e._e()},g=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("span"),o("span")])}],v=o("e701"),_={name:"MhDevInfos",components:{},props:{showOnHosts:{type:[Array,String],default:void 0,required:!1},show:{type:[Boolean,String],default:"",required:!1},doLog:{type:[Boolean],default:!1,required:!1}},data:function(){return{windowInnerWidth:window.innerWidth,bodyElm:null,store:{barIsVisible:!1,showBorders:[!1,!1,!1,!1,!1,!1,!1,!1]},isInit:!1}},watch:{"store.showBorders":function(e,t){this.setBorderAttributes()},store:{handler:function(e,t){var o=JSON.stringify(this.store);localStorage.setItem("MhDevInfos",o)},deep:!0},doShow:{handler:function(e,t){e&&!this.isInit&&this.init()},immediate:!0,deep:!0}},computed:{doShow:function(){var e=this.showOnHosts,t=this.hostname,o=this.doLog,n=!1;return Object(v["isArray"])(e)?Object(v["includes"])(e,t)&&(n=!0):this._.isString(e)?e==t&&(n=!0):e||(n=!0),!0===this.show&&(n=!0),!1===this.show&&(n=!1),o&&(console.groupCollapsed(this.$options.name,"• doShow"),console.log("show:",this.show),console.log("validHosts:",e),console.log("currentHost:",t),console.log("doShow:",n),console.groupEnd()),n},hostname:function(){return window.location.hostname},routeName:function(){return Object(v["get"])(this.$route,"name")},mq:function(){return this.$mq}},methods:{onResize:function(){this.windowInnerWidth=window.innerWidth},setBorderAttributes:function(){for(var e=0;e<this.store.showBorders.length;e++){var t=this.store.showBorders[e],o=e+1;t?this.bodyElm.setAttribute("showBorders"+o,""):this.bodyElm.removeAttribute("showBorders"+o)}},toggleDevInfosBar:function(){},bindKeydowns:function(){var e=this,t=null,o=null;document.addEventListener("keydown",(function(n){var s=n.keyCode,i=document.activeElement.tagName.toLowerCase(),a=[49,50,51,52,53,54,55,56,57],r=s-49;if("input"!=i&&"textarea"!=i){if(87==s&&(87==t?(e.store.showBorders=o,o=e.store.showBorders,s=!1):(o=e.store.showBorders,e.store.showBorders=new Array(e.store.showBorders.length).fill(!1)),n.preventDefault()),72==s&&(e.store.barIsVisible=!e.store.barIsVisible,n.preventDefault()),27==s&&(e.store.showBorders=new Array(e.store.showBorders.length).fill(!1)),a.indexOf(s)>-1){var l=e.store.showBorders.slice(0);l[r]=!l[r],e.store.showBorders=l,n.preventDefault()}t=s}}),!1)},init:function(){if(localStorage.getItem("MhDevInfos"))try{var e=JSON.parse(localStorage.getItem("MhDevInfos"));this.store=e.showBorders.length===this.store.showBorders.length?e:this.store}catch(t){localStorage.removeItem("MhDevInfos")}this.bodyElm=document.getElementsByTagName("body")[0],this.bindKeydowns(),this.setBorderAttributes(),this.isInit=!0,window.addEventListener("resize",Object(v["throttle"])(this.onResize,250))}},created:function(){},mounted:function(){},destroyed:function(){window.removeEventListener("resize",this.onResize)}},m=_,b=(o("0d45"),o("2877")),w=Object(b["a"])(m,f,g,!1,null,null,null),y=w.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"MhDelegateLinks"})},E=[],S={name:"MhDelegateLinks",components:{},mixins:[],props:{doLog:{type:[Boolean],default:!1,required:!1}},data:function(){return{internalHosts:[]}},watch:{},computed:{XXinternalHosts:function(){return this.getInternalHosts()},currentHost:function(){return window.location.hostname}},methods:{isURL:function(e){try{new URL(e)}catch(t){return!1}return!0},isFetchAll:function(e){var t=this.$router.resolve(e);return"*"===t.route.path},isDownloadURL:function(e){var t=!1;return t=!!this._.isString(e)&&-1!=e.indexOf("/wp-content/"),t},clickHandler:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.doLog&&(o=!0);var n=e.target;while(n&&"A"!==n.tagName)n=n.parentNode;var s=!(!n||!n.href)&&n.href,i=this.isURL(s)?new URL(s).hash:"",a=!!this.isURL(s)&&new URL(s).hostname,r=!!this.isURL(s)&&new URL(s).pathname+new URL(s).search+i,l=this.isFetchAll(r),c=this.isDownloadURL(s),d=n&&n.hasAttribute("download"),u=n&&n.getAttribute("class")&&-1!==n.getAttribute("class").indexOf("routerLink"),p=void 0,h=!1;if(this._.forEach(this.internalHosts,(function(e){t._.startsWith(a,e)&&(h=!0)})),o&&(console.groupCollapsed(this.$options.name,"• clickHandler()"),console.log("           target:",n),console.log("     isRouterLink:",u),console.log("             href:",s),console.log("             hash:",i),console.log("    internalHosts:",this.internalHosts),console.log("         hrefHost:",a),console.log("       isInternal:",h),console.log("       isFetchAll:",l),console.log("          routeTo:",r),console.log("    isDownloadURL:",c),console.log("   isDownloadLink:",d)),s&&!u)if(c||d)o&&console.groupEnd();else{if(n&&h){var f=e.altKey,g=e.ctrlKey,v=e.metaKey,_=e.shiftKey,m=e.button;e.defaultPrevented;if(v||f||g||_)o&&console.log("1"),p=!1;else if(void 0!==m&&0!==m)o&&console.log("3"),p=!1;else if(n&&"_blank"===n.getAttribute("target")){var b=n.getAttribute("target"),w=/\b_blank\b/i.test(b);o&&console.log("4",b,w),p=w}else i?(o&&console.log("5 is link with hash > return it",i),p=!0):(o&&console.log("6"),o&&console.log("window.location.pathname:",window.location.pathname),o&&console.log("routeTo:",r),p=!1);p?o&&console.log("8"):(o&&console.log("7"),o&&console.log("\t           >>>",r),o&&console.log(this.$route),window.location.pathname!==r&&this.$router.push(r),e.preventDefault())}else o&&console.log("\t           >>> no route to push");o&&console.groupEnd()}else o&&console.groupEnd()}},created:function(){window.addEventListener("click",this.clickHandler)},mounted:function(){this.internalHosts=this._.map(l,"hostname")},beforeDestroy:function(){window.removeEventListener("click",this.clickHandler)}},V=S,C=(o("ba8a"),Object(b["a"])(V,k,E,!1,null,null,null)),P=C.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"MhRouterViewWrapper"},[o("transition",{attrs:{name:"fade",mode:"out-in",duration:{leave:150,enter:150},appear:""},on:{"before-enter":function(t){return e.onTransitionEvent(t,"beforeEnter")},enter:function(t){return e.onTransitionEvent(t,"enter")},"after-enter":function(t){return e.onTransitionEvent(t,"afterEnter")},"before-leave":function(t){return e.onTransitionEvent(t,"beforeLeave")},leave:function(t){return e.onTransitionEvent(t,"leave")},"after-leave":function(t){return e.onTransitionEvent(t,"afterLeave")}}},[o("router-view",{key:e.$route.name,staticClass:"MhRouterViewWrapper__body"})],1),o("div",{staticClass:"MhRouterViewWrapper__debug"},[e._v(" spinner.isVisible: "+e._s(e.spinner.isVisible)+" "),o("br"),e._v(" viewContent.isVisible: "+e._s(e.viewContent.isVisible)+" "),o("br")]),o("MhSpinner",{staticClass:"MhRouterViewWrapper__spinner",class:{"MhRouterViewWrapper__spinner--isVisible":e.spinner.isVisible}})],1)},B=[],D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("svg",{staticClass:"spinner",attrs:{height:"1em",width:"1em",viewBox:"0 0 44 44","stroke-width":"2",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","vector-effect":"non-scaling-stroke"}},[o("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(3, 3)"}},[o("g",{attrs:{transform:"translate(1 1)","vector-effect":"non-scaling-stroke"}},[o("circle",{attrs:{"stroke-opacity":".35",cx:"18",cy:"18",r:"18","vector-effect":"non-scaling-stroke"}}),o("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18","vector-effect":"non-scaling-stroke"}},[o("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])},T=[],O={name:"MhSpinner",components:{},props:{},data:function(){return{strokeWidth:5,width:138,height:138,color:"red"}},methods:{getViewbox:function(){return"0 0 38 38"},getStyles:function(){return{}}},created:function(){},mounted:function(){}},R=O,I=Object(b["a"])(R,D,T,!1,null,null,null),$=I.exports,M={name:"MhRouterViewWrapper",components:{MhSpinner:$},data:function(){return{viewContent:{isVisible:void 0},spinner:{isVisible:void 0}}},watch:{},computed:{bodyClasses:function(){var e=[];return e},spinnerClasses:function(){var e=[];return e},wasReloadNavigation:function(){var e=window.performance.navigation&&1===window.performance.navigation.type||window.performance.getEntriesByType("navigation").map((function(e){return e.type})).includes("reload");return e}},methods:{onTransitionEvent:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o&&(console.groupCollapsed("%cMhRouterViewWrapper • onTransitionEvent","background-color: yellow",t),console.groupEnd())},removeSavedScrollPositionsInSessionStorage:function(){var e=this,t=Object.keys(sessionStorage),o=this.wasReloadNavigation?"scrollY--"+window.location.pathname:"",n=this._.filter(this._.clone(t),(function(t){return e._.startsWith(t,"scrollY--")&&t!==o}));n.forEach((function(e){sessionStorage.removeItem(e)}))},handlePopstateEvent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(console.groupCollapsed(this.$options.name,"• handlePopstateEvent()"),console.log("location: "+document.location+", state: "+JSON.stringify(e.state)),console.groupEnd()),sessionStorage.setItem("wasPopstateNav",1)}},beforeCreate:function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},created:function(){},beforeMount:function(){},mounted:function(){var e=this;a["a"].$on("MhRouterView--viewContentIsReady",(function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o&&(console.groupCollapsed(e.$options.name,"• $on MhRouterView--viewContentIsReady",t),console.groupEnd()),e.viewContent.isVisible=t,e.spinner.isVisible=!t})),this.removeSavedScrollPositionsInSessionStorage(),this.wasReloadNavigation&&sessionStorage.setItem("wasReloadNavigation",1),window.addEventListener("popstate",this.handlePopstateEvent)},beforeDestroy:function(){},destroyed:function(){window.removeEventListener("popstate",this.handlePopstateEvent)}},F=M,A=(o("3e57"),Object(b["a"])(F,x,B,!1,null,null,null)),L=A.exports,j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"MhModal",class:e.elmClasses},[o("div",{staticClass:"MhModal__background",on:{click:function(t){return e.close()}}}),o("div",{staticClass:"MhModal__modal"},[o("div",{staticClass:"MhModal__header"},[o("div",{staticClass:"MhModal__headerInner"},[o("div",{staticClass:"MhModal__headerInnerLeft"},[e._t("header")],2),o("div",{staticClass:"MhModal__headerInnerRight",on:{click:function(t){return e.close()}}},[e.$slots.closeButton?[e._t("closeButton")]:[o("span",{staticClass:"MhModal__closeButton",attrs:{role:"button"}},[e._v("×")])]],2)])]),o("div",{staticClass:"MhModal__body"},[o("div",{staticClass:"MhModal__bodyInner"},[e._t("body")],2)]),e.$slots.footer?o("div",{staticClass:"MhModal__footer"},[o("div",{staticClass:"MhModal__footerInner"},[e._t("footer")],2)]):e._e()])])},H=[],q={name:"MhModal",components:{},mixins:[],props:{show:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0}},data:function(){return{isVisible:void 0}},watch:{show:{handler:function(e,t){this.isVisible=e,this.show=e},immediate:!0}},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return this.isVisible?e.push("MhModal--isVisible"):e.push("MhModal--isHidden"),e}},methods:{open:function(){this.isVisible=!0},close:function(){this.isVisible=!1,this.$emit("close")},handleKeypress:function(e){"Escape"==e.key&&this.closeOnEsc&&this.close()}},created:function(){window.addEventListener("keydown",this.handleKeypress)},mounted:function(){this.isVisible=this.show},destroyed:function(){window.removeEventListener("keydown",this.handleKeypress)}},U=q,Y=(o("eb3a"),Object(b["a"])(U,j,H,!1,null,null,null)),N=Y.exports,z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"KnAppSidebar",class:e.elmClasses,attrs:{name:"KnAppSidebar"}},[o("div",{staticClass:"KnAppSidebar__inner"},[o("div",{staticClass:"KnAppSidebar__box KnAppSidebar__box--logo"},[o("router-link",{attrs:{to:"/"}})],1),e._m(0),o("div",{staticClass:"KnAppSidebar__box KnAppSidebar__box--buttons flex flex--column flex--center"},[o("BaseButton",{attrs:{isOutlined:"HomeView"!==e.$route.name},nativeOn:{click:function(t){return e.$router.push("/")}}},[e._v(" Map ")]),o("BaseButton",{attrs:{isOutlined:"LoginView"!==e.$route.name},nativeOn:{click:function(t){return e.$router.push("/login/")}}},[e._v(" Login ")]),o("BaseButton",{attrs:{isOutlined:"EditView"!==e.$route.name,isDisabled:!e.accessToken},nativeOn:{click:function(t){return e.$router.push("/edit/")}}},[e._v(" Create Record ")]),o("BaseButton",{attrs:{isOutlined:!0,isDisabled:!1,tag:"a",target:"_blank",href:"/uploaded/pdfs/daard_help.pdf"}},[e._v(" Help ")])],1),e.currentEnv.showDevOutput?o("div",{staticClass:"KnAppSidebar__box"},[o("pre",{attrs:{name:"requestToken"}},[e._v(e._s(e.requestToken))]),o("pre",{attrs:{name:"accessToken"}},[e._v(e._s(e.accessToken))]),o("a",{on:{click:e.doDevFetch}},[e._v("Dev Fetch")])]):e._e(),o("div",{staticClass:"KnAppSidebar__expander"}),o("div",{staticClass:"KnAppSidebar__box KnAppSidebar__box--footer color color--primary75"},[o("a",{staticClass:"link",on:{click:function(t){e.app.showImprintModal=!0}}},[e._v("Imprint")]),o("a",{staticClass:"link",on:{click:function(t){e.app.showImprintModal=!0}}},[e._v("Contact")])])])])},K=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"KnAppSidebar__box KnAppSidebar__box--title"},[o("p",{staticClass:"font font--sizeLarge color color--primary75"},[o("strong",{},[e._v("DAARD")]),o("br"),o("span",{staticClass:"font font--medium"},[e._v("Digital Atlas Of Ancient Rare Diseases")]),o("br"),o("br")])])}],W=o("7c6a");function J(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function G(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?J(Object(o),!0).forEach((function(t){X(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function X(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Q={name:"KnAppSidebar",components:{BaseButton:W["a"]},mixins:[],props:{},data:function(){return{}},watch:{},computed:G({app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return e}},Object(r["b"])(["currentEnv","requestToken","accessToken"])),methods:{doDevFetch:function(){console.group(this.$options.name,"• doDevFetch()"),console.groupEnd();var e={adults:!0,subadults:!0,age_class:"0–3",disease:2,age:"does_not_apply",age_freetext:"",sex:"unknown",inventory:{1:{id:1,label:"Neurocranium",svgid:"bone166,bone152,bone170",amount:"<75%",name:"neurocranium",section:"cranial_district"},3:{id:3,label:"Mandible",svgid:"bone153",amount:"<75%",name:"mandible",section:"cranial_district"}},bone_relations:{1:{id:1,label:"Neurocranium (cranial_district)",name:"neurocranium__radiography",section:"cranial_district",technic:"Radiography",bone_change:[]},3:{id:3,label:"Mandible (cranial_district)",name:"mandible__radiography",section:"cranial_district",technic:"Radiography",bone_change:[]}},reference_images:"",origin:"archaeological",position:"11.68396376604082,48.1405923004482",gazId:"2114755",gaz_link:"https://gazetteer.dainst.org/place/2114755",archaeological_tombid:"",archaeological_individualid:"",archaeological_funery_context:"primary",archaeological_burial_type:"single",storage_place:"institution_3",storage_place_freetext:"",storage_condition:"accessible_for_study",chronology:"",dating_method:"horn",dna_analyses:"absent",dna_analyses_link:"",published:!1,publication_link:""};console.log("v",6);var t=this.$store.getters.accessToken,o=this.$store.getters.restBase+"/api/disease-case/";fetch(o,{body:JSON.stringify(e),referrerPolicy:"origin-when-cross-origin",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"post"}).then((function(e){return console.log(e.status),console.log(e),e.ok||console.log("error!"),e.json()})).then((function(e){console.log("data:",e)}))}},created:function(){},mounted:function(){},destroyed:function(){}},Z=Q,ee=(o("9acb"),Object(b["a"])(Z,z,K,!1,null,null,null)),te=ee.exports,oe=[{title:"Disease",slug:"disease",desc:"\n\t\t\tPlease provide general information about the individual and disease.\n\t\t",isEnabled:!0},{title:"Inventory",slug:"inventory",desc:"\n\t\t\tPlease, define which bones are present.\n\t\t",isEnabled:!1,tabs:[{label:"Cranial District"},{label:"Axial skeleton"},{label:"Left upper limb"},{label:"Right upper limb"},{label:"Left lower limb"},{label:"Right lower limb"}]},{title:"Bone&nbsp;changes",slug:"bone-changes",desc:"\n\t\t\t Please define the bone changes, by diagnostic methods, for each bone.\n\t\t",isEnabled:!1},{title:"Site",slug:"site",desc:"\n\t\t\tPlease provide additional information on archaeological context and storage place.\n\t\t",isEnabled:!1},{title:"Genetic analyses and publication",slug:"publication",desc:"\n\t\t\tSubmit the case after agreeing to the privacy consent.\n\t\t",isEnabled:!1}];function ne(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function se(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(o),!0).forEach((function(t){ie(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ne(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function ie(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ae={name:"App",components:{MhRouterViewWrapper:L,MhDevInfos:y,MhDelegateLinks:P,MhModal:N,KnAppSidebar:te},directives:{resize:p.a},mixins:[h["a"]],data:function(){return{isReady:!1}},computed:se({},Object(r["b"])(["currentEnv","steps","activeStep","activeStepIndex","isStepValid","fields","getFieldBySlug","getFieldProp","availableBoneIds","boneChangesForm"])),methods:{getLinkWithoutHostname:function(e){var t="";try{var o=new URL(e);t=o.pathname}catch(n){}return t},fetchAccessToken:function(e){var t=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=location.protocol+"//"+location.host;o&&(console.group(this.$options.name,"• fetchAccessToken()"),console.log("redirectUri:",n),console.log("requestToken:",e),console.groupEnd()),this.$store.commit("setRequestToken",e);fetch(this.currentEnv.tokenUrl,{body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:n,client_id:this.currentEnv.tokenClientId}),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then((function(e){return e.json()})).then((function(e){var o=t._.get(e,"access_token");console.log("fetchAuthToken:",e),o&&(t.$store.commit("setAccessToken",o),t.$router.replace("/edit/"))}))},fetchAll:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=4,s=function(){--n,!n&&t._.isFunction(e)&&e()};this.restHandler__fetch({action:"GET",route:this.$store.getters.restBase+"/api/forms/?filter_by_key=disease",params:{},callback:function(e){var n=e.data;o&&console.log(t.$options.name,"• fetchAll() • disease",n),t._.forEach(n,(function(e){var o={stepSlug:"disease",field:e};t.$store.commit("addStepField",o)})),s()}}),this.restHandler__fetch({action:"GET",route:this.$store.getters.restBase+"/api/forms/?filter_by_key=inventory",params:{},callback:function(e){var n=e.data;o&&console.log(t.$options.name,"• fetchAll() • inventory",n);var i=n;t._.forEach(i,(function(e){t._.forEach(e,(function(e){var o={stepSlug:"inventory",field:e};t.$store.commit("addStepField",o)}))})),s()}}),this.restHandler__fetch({action:"GET",route:this.$store.getters.restBase+"/api/forms/?filter_by_key=site",params:{},callback:function(e){var n=e.data;o&&console.log(t.$options.name,"• fetchAll() • site",n),t._.forEach(n,(function(e){var o={stepSlug:"site",field:e};t.$store.commit("addStepField",o)}));var i=[{name:"gazId",label:"gazId",type:"textfield"},{name:"gaz_link",label:"gaz_link",type:"textfield"}];t._.forEach(i,(function(e){var o={stepSlug:"site",field:e};t.$store.commit("addStepField",o)})),s()}}),this.restHandler__fetch({action:"GET",route:this.$store.getters.restBase+"/api/forms/?filter_by_key=publication",params:{},callback:function(e){var n=e.data;o&&console.log(t.$options.name,"• fetchAll() • publication",n),t._.forEach(n,(function(e){var o={stepSlug:"publication",field:e};t.$store.commit("addStepField",o)}));var i=[{name:"privacyConsent",label:"Privacy consent",type:"checkbox",mandatory:!0,help_text:'I consent to the <a href="https://www.dainst.org/datenschutz" target="_blank">privacy policy</a> of dainst.org.\n\t\t\t\t\t\t\t\t\t   This includes the processing of my data and granting public acces to the disease record described\n\t\t\t\t\t\t\t\t\t   in steps 2 and 3.\n\t\t\t\t\t\t\t\t\t   '}];t._.forEach(i,(function(e){var o={stepSlug:"publication",field:e};t.$store.commit("addStepField",o)})),s()}})}},mounted:function(){var e=this;this.$store.commit("clearState"),this.$store.commit("setCurrentEnv",d),oe.forEach((function(t){e.$store.commit("addStep",t)})),this.fetchAll((function(){e.isReady=!0}));var t=new URLSearchParams(window.location.search),o=t.get("code"),n=sessionStorage.getItem("kn__requestToken");o?(console.log(this.$options.name,"• has requestToken as code in url"),sessionStorage.setItem("kn__requestToken",o),window.location.href="/"):n&&this.fetchAccessToken(n)}},re=ae,le=(o("7c55"),Object(b["a"])(re,s,i,!1,null,null,null)),ce=le.exports,de=o("8c4f"),ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("MhRouterView",{staticClass:"HomeView view hSpace hSpace--app",attrs:{isContentReady:e.isContentReady}},[o("div",{staticClass:"HomeView__inner view__inner"},[o("iframe",{attrs:{src:"https://dai-gn-test.csgis.de/maps/5629/embed#/",allowtransparency:"true"}})])])},pe=[],he=o("3036"),fe={name:"HomeView",components:{MhRouterView:he["a"]},mixins:[],directives:{},props:{},data:function(){return{isContentReady:!1}},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return e}},methods:{},mounted:function(){this.isContentReady=!0}},ge=fe,ve=(o("e6f6"),Object(b["a"])(ge,ue,pe,!1,null,null,null)),_e=ve.exports;n["default"].use(de["a"]);var me=new de["a"]({base:"/",mode:"hash",linkActiveClass:"routerLink--active",linkExactActiveClass:"routerLink--exactActive",routes:[{path:"/edit/",name:"EditViewStart",redirect:"/edit/disease/"},{path:"/dev/",name:"DevView",pathToRegexpOptions:{strict:!0},component:function(){return Promise.all([o.e("DevView~EditView~LoginView~ThankYouView"),o.e("DevView~EditView"),o.e("DevView")]).then(o.bind(null,"d7a3"))}},{path:"/login/",name:"LoginView",pathToRegexpOptions:{strict:!0},component:function(){return Promise.all([o.e("DevView~EditView~LoginView~ThankYouView"),o.e("LoginView")]).then(o.bind(null,"3bea"))}},{path:"/edit/:stepSlug/",name:"EditView",pathToRegexpOptions:{strict:!0},component:function(){return Promise.all([o.e("DevView~EditView~LoginView~ThankYouView"),o.e("DevView~EditView"),o.e("EditView")]).then(o.bind(null,"f833"))}},{path:"/thank-you/",name:"ThankYouView",pathToRegexpOptions:{strict:!0},component:function(){return Promise.all([o.e("DevView~EditView~LoginView~ThankYouView"),o.e("ThankYouView")]).then(o.bind(null,"9ed2"))}},{path:"/",name:"HomeView",pathToRegexpOptions:{strict:!0},component:_e},{path:"*",redirect:"/"}]}),be=o("2ef0"),we=o.n(be);n["default"].use(r["a"]);var ye=new r["a"].Store({state:{currentEnv:{},requestToken:"",accessToken:"",fields:{},steps:[],route:{},boneChangesForm:[]},getters:{currentEnv:function(e){return e.currentEnv},restBase:function(e){return e.currentEnv.restBase},requestToken:function(e){return e.requestToken},accessToken:function(e){return e.accessToken},fields:function(e){return e.fields},steps:function(e){return e.steps},boneChangesForm:function(e){return e.boneChangesForm},isStepValid:function(e,t){return function(e){var o=t.getStepBySlug(e),n=we.a.get(o,"fields",[]),s=!0;if("disease"===e&&(t.getFieldProp("disease","_value")||(s=!1),t.getFieldProp("age_class","_value")||(s=!1),t.getFieldProp("age","_value")||(s=!1),t.getFieldProp("sex","_value")||(s=!1)),"inventory"===e){var i=n.filter((function(e){return we.a.endsWith(e,"_amount")})),a=[];i.forEach((function(e){a.push(t.getFieldProp(e,"_value"))})),a=we.a.compact(a),a=we.a.uniq(a),we.a.size(a)||(s=!1),1==we.a.size(a)&&"absent"==a[0]&&(s=!1)}return"bone-changes"===e&&(n.forEach((function(e){we.a.size(t.getFieldProp(e,"_value"))||(s=!1)})),we.a.size(n)||(s=!1)),"site"===e&&(t.getFieldProp("origin","_value")||(s=!1),t.getFieldProp("position","_value")||(s=!1),t.getFieldProp("storage_place","_value")||(s=!1),t.getFieldProp("chronology","_value")||(s=!1),"archaeological"==t.getFieldProp("origin","_value")&&(t.getFieldProp("archaeological_funery_context","_value")||(s=!1),t.getFieldProp("archaeological_burial_type","_value")||(s=!1)),t.getFieldProp("dating_method","_value")||(s=!1)),"publication"===e&&(t.getFieldProp("dna_analyses","_value")||(s=!1),t.getFieldProp("privacyConsent","_value")||(s=!1)),"all"===e&&(t.isStepValid("disease")||(s=!1),t.isStepValid("inventory")||(s=!1),t.isStepValid("bone-changes")||(s=!1),t.isStepValid("site")||(s=!1),t.isStepValid("publication")||(s=!1)),s}},getStepBySlug:function(e){return function(t){var o=e.steps.find((function(e){return e.slug===t}));return o}},getStepProp:function(e,t){return function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=t.getStepBySlug(e),i=we.a.get(s,o,n);return i}},getFieldBySlug:function(e,t){return function(t){var o=e.fields[t];return o}},getFieldProp:function(e,t){return function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=t.getFieldBySlug(e),i=we.a.get(s,o,n);return i}},activeStep:function(e,t){var o=!1,n=we.a.get(e.route,"params.stepSlug"),s=t.getStepBySlug(n);return o&&(console.groupCollapsed("store.js","• activeStep"),console.log("currentRouteStepSlug:",n),console.groupEnd()),s},activeStepIndex:function(e,t){var o=!1,n=we.a.get(e.route,"params.stepSlug"),s=t.steps.findIndex((function(e){return e.slug===n}));return o&&(console.groupCollapsed("store.js","• activeStepIndex"),console.log("activeStepIndex:",s),console.groupEnd()),s},availableBoneIds:function(e,t){var o=!1,n=t.getStepBySlug("inventory"),s=we.a.get(n,"fields",[]),i=s.filter((function(e){var t=we.a.endsWith(e,"_amount"),o=["cranial_district__deciduous-teeth_amount","cranial_district__permanent-teeth_amount"],n=!o.includes(e);return!(!t||!n)})),a=i.filter((function(e){return"absent"!==t.getFieldProp(e,"_value")})),r=a.map((function(e){return t.getFieldProp(e,"id")})),l="absent"!=t.getFieldProp("cranial_district__deciduous-teeth_amount","_value"),c="absent"!=t.getFieldProp("cranial_district__permanent-teeth_amount","_value"),d=l?t.getFieldProp("cranial_district__deciduous-teeth","_value"):[],u=c?t.getFieldProp("cranial_district__permanent-teeth","_value"):[],p=we.a.isArray(d)?d:[],h=we.a.isArray(u)?u:[];return p.forEach((function(e){r.push(e)})),h.forEach((function(e){r.push(e)})),o&&(console.group("store.js","• boneIds"),console.log("amountFields:",i),console.log("validAmountFields:",a),console.log("boneIds:",r),console.log("hasValidDeciduousTeethAmount:",l),console.log("hasValidPermanentTeethAmount:",c),console.log("deciduousTeethIds:",p),console.log("permanentTeethIds:",h),console.groupEnd()),r},finalSubmitObject:function(e,t){var o=t.getStepBySlug("inventory"),n=t.getStepBySlug("bone-changes"),s=we.a.get(o,"fields",[]),i=we.a.get(n,"fields",[]),a=["cranial_district__deciduous-teeth","cranial_district__permanent-teeth"],r=s.filter((function(e){var t=!a.includes(e),o=!we.a.endsWith(e,"_amount");return t&&o})),l={adults:t.getFieldProp("adults","_value"),subadults:t.getFieldProp("subadults","_value"),age_class:t.getFieldProp("age_class","_value"),disease:t.getFieldProp("disease","_value"),age:t.getFieldProp("age","_value"),age_freetext:t.getFieldProp("age_freetext","_value"),sex:t.getFieldProp("sex","_value"),inventory:{},bone_relations:{},reference_images:t.getFieldProp("reference_images","_value"),origin:t.getFieldProp("origin","_value"),site:t.getFieldProp("site","_value"),position:t.getFieldProp("position","_value"),gazId:t.getFieldProp("gazId","_value"),gaz_link:t.getFieldProp("gaz_link","_value"),archaeological_tombid:t.getFieldProp("archaeological_tombid","_value"),archaeological_individualid:t.getFieldProp("archaeological_individualid","_value"),archaeological_funery_context:t.getFieldProp("archaeological_funery_context","_value"),archaeological_burial_type:t.getFieldProp("archaeological_burial_type","_value"),storage_place:t.getFieldProp("storage_place","_value"),storage_place_freetext:t.getFieldProp("storage_place_freetext","_value"),storage_condition:t.getFieldProp("storage_condition","_value"),chronology:t.getFieldProp("chronology","_value"),chronology_freetext:t.getFieldProp("chronology_freetext","_value"),dating_method:t.getFieldProp("dating_method","_value"),dna_analyses:t.getFieldProp("dna_analyses","_value"),dna_analyses_link:t.getFieldProp("dna_analyses_link","_value"),published:t.getFieldProp("published","_value"),publication_link:t.getFieldProp("publication_link","_value")};return r.forEach((function(e){var o=t.getFieldBySlug(e),n=t.getFieldBySlug(e+"_amount"),s=o.id,i=o.label,a=o.svgid,r=n._value,c=o.name,d=o.section;if("absent"!=r){var u={id:s,label:i,svgid:a,amount:r,name:c,section:d};l.inventory[s]=u}})),a.forEach((function(e){var o=t.getFieldBySlug(e),n=t.getFieldBySlug(e+"_amount"),s=t.getFieldProp(e,"_value"),i=o.label,a=o.svgid,r=n._value,c=o.name,d=o.section;"absent"!=r&&we.a.size(s)&&(console.log("-----"),console.log("field:",o,o.id),console.log("amountField:",n,n.id),console.log("ids:",s),s.forEach((function(e){var t={id:e,label:i,svgid:a,amount:r,name:c,section:d};l.inventory[e]=t})))})),i.forEach((function(e){var o=t.getFieldBySlug(e),n={id:o.id,slug:o._slug,label:o.label,name:o.name,section:o.section,_changes:[]},s={technic:o.technic,bone_change:o._value||[]};we.a.has(l,"bone_relations["+n.id+"]")?l.bone_relations[n.id]._changes.push(s):(n._changes.push(s),l.bone_relations[n.id]=n)})),l}},mutations:{clearState:function(e,t){e.fields={},e.steps=[],e.route={}},setCurrentEnv:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o&&(console.groupCollapsed("store.js","• setCurrentEnv()"),console.log("payload:",t),console.groupEnd()),e.currentEnv=t},setAccessToken:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o&&(console.groupCollapsed("store.js","• setAccessToken()"),console.log("payload:",t),console.groupEnd()),e.accessToken=t},setRequestToken:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o&&(console.groupCollapsed("store.js","• setRequestToken()"),console.log("payload:",t),console.groupEnd()),e.requestToken=t},setRoute:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o&&(console.groupCollapsed("store.js","• setRoute()"),console.log("payload:",t),console.groupEnd()),e.route=t},addStep:function(e,t){var o={title:t.title,slug:t.slug,desc:t.desc,isEnabled:t.isEnabled,fields:[],tabs:t.tabs};e.steps.push(o)},addStepField:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t.stepSlug,i=e.steps.find((function(e){return e.slug===s})),a=t.field,r=a.name,l=we.a.toLower(a.type);if(o&&(console.groupCollapsed("store.js","• addStepField()"),console.log("payload:",t),console.log("stepSlug:",s),console.log("field:",a),console.log("type:",l),console.log("step:",i),console.groupEnd()),"bone-changes"==s);if("checkbox"==l&&(n["default"].set(a,"_type",l),n["default"].set(a,"_disabled",!1),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",!1),n["default"].set(a,"_label",a.label)),"textfield"==l&&(n["default"].set(a,"_type",l),n["default"].set(a,"_disabled",!1),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",""),n["default"].set(a,"_label",a.label)),"rest-selectfield"==l&&(n["default"].set(a,"_type",l),n["default"].set(a,"_disabled",!1),n["default"].set(a,"_options",[]),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",""),n["default"].set(a,"_label",a.label)),"rest-textfield"==l&&(n["default"].set(a,"_type","rest-searchfield"),n["default"].set(a,"_disabled",!1),n["default"].set(a,"_options",[]),n["default"].set(a,"_search",""),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",""),n["default"].set(a,"_label",a.label)),"selectfield"==l){n["default"].set(a,"_type",l),n["default"].set(a,"_disabled",!1);var c=[];a.options.forEach((function(e){var t={label:e.value,value:e.name};c.push(t)})),n["default"].set(a,"_options",c),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",""),n["default"].set(a,"_label",a.label)}if("radiogroup"==l){n["default"].set(a,"_type","radiogroup"),n["default"].set(a,"_disabled",!1);var d=[];we.a.forEach(a.objects,(function(e,t){var o={label:e.label,value:e.name};d.push(o)})),n["default"].set(a,"_options",d),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",d[0].value),n["default"].set(a,"_label",a.label)}"hiddenfield"==l&&(n["default"].set(a,"_type","textfield"),n["default"].set(a,"_disabled",!0),n["default"].set(a,"_isLoading",!1),n["default"].set(a,"_value",""),n["default"].set(a,"_label",a.label)),"inventory"==s&&we.a.endsWith(r,"_amount")&&n["default"].set(a,"_value","absent");var u=a.section?a.section+"__"+a.name:a.name;n["default"].set(a,"_slug",u),n["default"].set(a,"_label",a.label),we.a.isObject(i)&&(i.fields.push(u),n["default"].set(e.fields,u,a))},removeStepFields:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.stepSlug,s=e.steps.find((function(e){return e.slug===n})),i=s.fields;o&&(console.groupCollapsed("store.js","• removeStepField()"),console.log("payload:",t),console.log("stepSlug:",n),console.log("step:",s),console.log("fieldSlugsToRemove:",i),console.groupEnd()),s.fields=[],i.forEach((function(t){delete e.fields[t]}))},setStepProp:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.stepSlug,s=t.key,i=t.value,a=e.steps.find((function(e){return e.slug===n}));o&&(console.group("store.js","• setStepProp()"),console.log("payload:",t),console.log("stepSlug:",n),console.log("key:",s),console.log("value:",i),console.log("step:",a),console.groupEnd()),a[s]=i},setFieldProp:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t.fieldName,i=t.key,a=t.value,r=e.fields[s];o&&(console.group("store.js","• setFieldProp()"),console.log("payload:",t),console.log("fieldName:",s),console.log("key:",i),console.log("value:",a),console.log("field:",r),console.groupEnd()),n["default"].set(r,i,a)},setBoneChangesForm:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o&&(console.group("store.js","• setBoneChangesForm()"),console.log("payload:",t),console.groupEnd()),e.boneChangesForm=t}},actions:{}}),ke=o("bc3a"),Ee=o.n(ke),Se=o("a7fe"),Ve=o.n(Se),Ce=o("9955"),Pe=o.n(Ce),xe=o("42fb"),Be=o("660e");n["default"].config.productionTip=!1;var De=function(e,t,o){var n=t.$options.name,s=document.body.querySelector("errorBadge");s&&document.body.removeChild(s);var i="150px",a=document.createElement("div");a.classList.add("errorBadge"),a.style.cssText="\n\t\tposition: fixed;\n\t\tborder-radius: 50%;\n\t\ttop: calc( 50% - ( ".concat(i," * 0.5 ) );\n\t\tleft: calc( 50% - ( ").concat(i," * 0.5 ) );\n\t\twidth: ").concat(i,";\n\t\theight: ").concat(i,";\n\t\topacity: 0.85;\n\t\tz-index: 100000;\n\t\tbackground: red;\n\t"),document.body.appendChild(a),console.group("%cerrorHandler() •","color : red",n),console.error("err:",e),console.log("%cvm:","color : red",t),console.log("%cinfo:","color : red",o),console.groupEnd();var r=new AudioContext;function l(e,t,o){var n=r.createOscillator(),s=r.createGain();n.connect(s),n.frequency.value=t,n.type="square",s.connect(r.destination),s.gain.value=.01*e,n.start(r.currentTime),n.stop(r.currentTime+.001*o)}l(10,320,150)};n["default"].config.warnHandler=De,n["default"].config.errorHandler=De,n["default"].use(Ve.a,Ee.a),n["default"].use(Pe.a,{lodash:we.a}),n["default"].use(xe["a"]),n["default"].use(Be["a"],{breakpoints:{xs:500,sm:715,md:1130,desktop:1364,lg:1365,xl:1950}}),new n["default"]({router:me,store:ye,data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){var e=this;setTimeout((function(){e.$nextTick((function(){var t=e.$route;e.$store.commit("setRoute",t)})),e.$router.beforeEach((function(t,o,n){e.$store.commit("setRoute",t),n()}))}),50)},render:function(e){return e(ce)}}).$mount("#app")},"5e50":function(e,t,o){"use strict";var n=o("2b0e"),s=new n["default"];t["a"]=s},"765c":function(e,t,o){},"7b15":function(e,t,o){},"7c55":function(e,t,o){"use strict";var n=o("2395"),s=o.n(n);s.a},"7c6a":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(e.tag,{tag:"div",staticClass:"BaseButton",class:e.elmClasses,attrs:{name:"BaseButton",href:e.href,disabled:e.isDisabled,target:e.target}},[o("span",{staticClass:"BaseButton__inner"},[o("span",{staticClass:"BaseButton__slot BaseButton__slot--before"},[e._t("before")],2),o("span",{staticClass:"BaseButton__slot BaseButton__slot--text"},[e._t("default")],2),o("span",{staticClass:"BaseButton__slot BaseButton__slot--after"},[e._t("after")],2),o("span",{staticClass:"BaseButton__slot BaseButton__slot--spinner"},[e._t("spinner",[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[o("line",{attrs:{x1:"12",y1:"2",x2:"12",y2:"6"}}),o("line",{attrs:{x1:"12",y1:"18",x2:"12",y2:"22"}}),o("line",{attrs:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}}),o("line",{attrs:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}}),o("line",{attrs:{x1:"2",y1:"12",x2:"6",y2:"12"}}),o("line",{attrs:{x1:"18",y1:"12",x2:"22",y2:"12"}}),o("line",{attrs:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}}),o("line",{attrs:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}})])])],2)])])},s=[],i={name:"BaseButton",components:{},mixins:[],props:{tag:{type:[String],default:"button",required:!1},href:{type:[String,Boolean],default:!1,required:!1},target:{type:[String,Boolean],default:!1,required:!1},isDisabled:{type:[Boolean],default:!1,required:!1},isOutlined:{type:[Boolean],default:!1,required:!1},showSpinner:{type:[Boolean],default:!1,required:!1}},data:function(){return{}},watch:{},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return this.isDisabled&&e.push(this.$options.name+"--isDisabled"),this.isOutlined?e.push(this.$options.name+"--isOutlined"):e.push(this.$options.name+"--isFilled"),this.showSpinner&&e.push(this.$options.name+"--showSpinner"),e}},methods:{},created:function(){},mounted:function(){},destroyed:function(){}},a=i,r=(o("88a6"),o("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports},"87bd":function(e,t,o){},"88a6":function(e,t,o){"use strict";var n=o("d499"),s=o.n(n);s.a},"9acb":function(e,t,o){"use strict";var n=o("eabe"),s=o.n(n);s.a},aab6:function(e,t,o){},ba8a:function(e,t,o){"use strict";var n=o("3f9e"),s=o.n(n);s.a},c98a:function(e,t,o){},d499:function(e,t,o){},dbdf:function(e,t,o){"use strict";var n=o("aab6"),s=o.n(n);s.a},e6f6:function(e,t,o){"use strict";var n=o("765c"),s=o.n(n);s.a},eabe:function(e,t,o){},eb3a:function(e,t,o){"use strict";var n=o("87bd"),s=o.n(n);s.a}});
//# sourceMappingURL=app.c9035b20.js.map